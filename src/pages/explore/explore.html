<ion-header no-border>
  <ion-navbar>
    <ion-title>
      发现
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content style="background-color:rgb(247,247,247);">
  <ion-refresher (ionRefresh)="doRefresh($event)">
    <ion-refresher-content
      pullingIcon="ios-arrow-round-down-outline"
      pullingText="下拉刷新"
      refreshingSpinner="crescent" 
      refreshingText="加载中...">
    </ion-refresher-content>
  </ion-refresher>
  <div class="events">
    <ion-list>
      <button ion-item *ngFor="let event of eventsData" 
          detail-none class="event" (click)="gotoDetail(event)">
          <ion-thumbnail item-left class="cover">
            <img [src]="event.image" />
          </ion-thumbnail>
          <h2 class="title"><span class="rule-type">签</span> {{event.title}}</h2>
          <p class="info">
            <span class="hb-earn">
              <span class="grab">抢</span>
              <span class="moneys">{{ event.hb.min_value == event.hb.max_value ? 
                   event.hb.min_value :
                   event.hb.min_value + '-' + event.hb.max_value
                }} 元
              </span>
            </span>
          </p>
          <p class="address"><ion-icon name="ios-pin-outline"></ion-icon> 成都市金牛区韦家碾一路24号</p>
          <ion-note item-right>
            <div class="money">
              <span class="money-symbol">¥</span>{{event.hb.left_money}}
            </div>
          </ion-note>
      </button>
    </ion-list>
  </div>
</ion-content>
