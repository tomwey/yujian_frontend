<!--
  Generated template for the MyEventsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-border>

  <ion-navbar>
    <ion-title>我发布的活动</ion-title>
  </ion-navbar>

</ion-header>

<ion-content>
  <div class="empty-result my-events-empty" *ngIf="needShowEmptyResult">
    <p>您还未发布过活动，快去主页的发布页面发布一个活动吧！</p>
  </div>
  <ion-list *ngIf="eventsData.length > 0">
    <button ion-item detail-none *ngFor="let event of eventsData" class="event" (click)="gotoEventDetail(event)">
      <ion-thumbnail item-left>
        <img [src]="event.image">
      </ion-thumbnail>
      <h2 class="title" text-wrap>{{event.title}}</h2>
      <p class="money" text-wrap>
        <span class="label">共<span class="digit">{{event.hb.total_money}}</span>元，剩<span class="digit">{{event.hb.left_money}}</span>元</span>
      </p>
      <ion-note item-right>
        <p class="state-name" *ngIf="event.hb.left_money > 0">{{event.state_name}}</p>
        <button ion-button *ngIf="event.hb.left_money <= 0.0" small color="theme-red" outline (click)="republish($event, event)">再次发布</button>
      </ion-note>
    </button>
  </ion-list>
</ion-content>
